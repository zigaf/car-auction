<header class="header">
  <div class="header__inner">
    <a routerLink="/" class="header__logo">
      <span class="header__logo-badge">CA</span>
      <span class="header__logo-text">Car<span class="accent">Auction</span></span>
    </a>

    <nav class="header__nav">
      <a routerLink="/catalog" routerLinkActive="active" class="header__nav-link">Аукционы</a>
      <a routerLink="/live" routerLinkActive="active" class="header__nav-link">Результаты</a>
      <a routerLink="/about" routerLinkActive="active" class="header__nav-link">О нас</a>
    </nav>

    <div class="header__search">
      <span class="material-symbols-rounded header__search-icon">search</span>
      <input type="text" placeholder="Поиск по марке, модели..." class="header__search-input">
    </div>

    <div class="header__actions">
      <button class="header__icon-btn" aria-label="Уведомления">
        <span class="material-symbols-rounded">notifications</span>
        <span class="header__icon-badge">3</span>
      </button>

      <button class="header__icon-btn" aria-label="Избранное">
        <span class="material-symbols-rounded">favorite</span>
      </button>

      @if (appState$ | async; as state) {
      @if (state.isAuthenticated && state.user) {
      <div class="header__user-menu">
        <a routerLink="/cabinet" class="header__user-btn">
          <img *ngIf="state.user.countryFlag" [src]="state.user.countryFlag" alt="Flag" class="header__user-flag">
          <span class="header__user-name">{{ state.user.firstName || 'Профиль' }}</span>
        </a>
        <app-button variant="ghost" size="sm" icon="logout" (click)="logout()" aria-label="Выйти"
          class="header__logout-btn"></app-button>
      </div>
      } @else {
      <a routerLink="/login" class="header__login-btn">
        <span class="material-symbols-rounded">person</span>
        <span>Войти</span>
      </a>
      }
      }

      <button class="header__burger" (click)="toggleMenu()">
        <span class="material-symbols-rounded">menu</span>
      </button>
    </div>
</header>