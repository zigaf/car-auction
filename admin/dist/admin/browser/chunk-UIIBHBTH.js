import{a as tt}from"./chunk-DEEKASPA.js";import"./chunk-Z6B4J4CM.js";import{a as Z}from"./chunk-QNLRRT23.js";import{c as U,f as N}from"./chunk-ELGPTX6G.js";import{b as H,c as j,f as G,h as Y,i as $,j as q,k as J,l as K,m as Q,p as X}from"./chunk-3D23ORGU.js";import{g as W,h as R}from"./chunk-XJI6OOWZ.js";import{$ as m,$a as C,Ab as h,Bb as w,La as F,V as T,Wa as c,Xa as s,Ya as k,Za as y,_ as p,_a as P,a as I,ab as i,b as V,bb as n,cb as D,db as v,gb as f,hb as r,lb as O,mb as z,nb as o,ob as _,pb as g,qb as A,rb as B,tb as E,ua as L,ub as S,vb as M,wa as l,zb as b}from"./chunk-AYG5IDLV.js";var it=(e,a)=>a.id;function ot(e,a){if(e&1&&(i(0,"h1",5),o(1),n()),e&2){let t=r();l(),B("",t.lot.brand," ",t.lot.model," ",t.lot.year)}}function at(e,a){e&1&&(i(0,"h1",5),o(1,"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430\u2026"),n())}function lt(e,a){if(e&1&&(i(0,"span",9),o(1),n()),e&2){let t=r();z("badge--"+(t.lot.status==="trading"?"green":t.lot.status==="sold"?"amber":t.lot.status==="cancelled"?"red":t.lot.status==="active"?"blue":"gray")),l(),g(" ",t.statusLabels[t.lot.status]??t.lot.status," ")}}function rt(e,a){e&1&&(i(0,"div",7)(1,"span",10),o(2,"progress_activity"),n()())}function dt(e,a){if(e&1&&(i(0,"div",8)(1,"span",4),o(2,"error"),n(),o(3),n()),e&2){let t=r();l(3),g(" ",t.error," ")}}function ct(e,a){if(e&1&&(i(0,"span",13),o(1),n()),e&2){let t=r(2);l(),_(t.bidsTotal)}}function st(e,a){if(e&1&&D(0,"img",36),e&2){let t=a.$implicit,u=r(4);C("src",t.url,L)("alt",u.lot.title)}}function ut(e,a){if(e&1&&(i(0,"div",15),y(1,st,1,2,"img",36,it),n()),e&2){let t=r(3);l(),P(t.lot.images.slice(0,6))}}function _t(e,a){e&1&&(i(0,"span",37),o(1,"check_circle"),n())}function pt(e,a){e&1&&(i(0,"span",37),o(1,"cancel"),n())}function mt(e,a){if(e&1&&(i(0,"div",17)(1,"span",18),o(2,"\u0420\u0435\u0437\u0435\u0440\u0432\u043D\u0430\u044F \u0446\u0435\u043D\u0430"),n(),i(3,"span",19),o(4),b(5,"number"),c(6,_t,2,0,"span",37)(7,pt,2,0,"span",37),n()()),e&2){let t=r(3);l(3),O("price-banner__value--met",t.reserveMet)("price-banner__value--unmet",!t.reserveMet),l(),g(" ",h(5,6,t.lot.reservePrice)," EUR "),l(2),s(t.reserveMet?6:7)}}function xt(e,a){if(e&1&&(i(0,"div",17)(1,"span",18),o(2,"\u041A\u0443\u043F\u0438\u0442\u044C \u0441\u0435\u0439\u0447\u0430\u0441"),n(),i(3,"span",19),o(4),b(5,"number"),n()()),e&2){let t=r(3);l(4),g("",h(5,1,t.lot.buyNowPrice)," EUR")}}function Ct(e,a){if(e&1&&(i(0,"div",17)(1,"span",18),o(2,"\u0428\u0430\u0433 \u0441\u0442\u0430\u0432\u043A\u0438"),n(),i(3,"span",19),o(4),b(5,"number"),n()()),e&2){let t=r(3);l(4),g("",h(5,1,t.lot.bidStep)," EUR")}}function gt(e,a){if(e&1&&(i(0,"dt"),o(1,"VIN"),n(),i(2,"dd",24),o(3),n()),e&2){let t=r(3);l(3),_(t.lot.vin)}}function ft(e,a){if(e&1&&(i(0,"dt"),o(1,"\u041C\u0435\u0441\u0442\u043E \u043F\u0440\u043E\u0434\u0430\u0436\u0438"),n(),i(2,"dd"),o(3),n()),e&2){let t=r(3);l(3),_(t.lot.saleLocation)}}function bt(e,a){if(e&1&&(i(0,"dt"),o(1,"\u041C\u0435\u0441\u0442\u043E\u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435"),n(),i(2,"dd"),o(3),n()),e&2){let t=r(3);l(3),_(t.lot.vehicleLocation)}}function vt(e,a){if(e&1&&(i(0,"dt"),o(1,"\u0421\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435 (\u043A\u043E\u0441\u043C. / \u043C\u0435\u0445.)"),n(),i(2,"dd"),o(3),n()),e&2){let t=r(3);l(3),A("",t.lot.cosmeticGrade??"\u2014"," / ",t.lot.mechanicalGrade??"\u2014")}}function ht(e,a){if(e&1&&(i(0,"dt"),o(1,"\u041E\u0442\u0447\u0451\u0442"),n(),i(2,"dd")(3,"a",38),o(4,"\u041E\u0442\u043A\u0440\u044B\u0442\u044C"),n()()),e&2){let t=r(3);l(3),C("href",t.lot.conditionReportUrl,L)}}function Et(e,a){if(e&1&&(i(0,"p",23),o(1),n()),e&2){let t=r(3);l(),_(t.lot.description)}}function St(e,a){if(e&1&&(i(0,"dt"),o(1,"\u041D\u0430\u0447\u0430\u043B\u043E"),n(),i(2,"dd"),o(3),b(4,"date"),n()),e&2){let t=r(3);l(3),_(w(4,1,t.lot.auctionStartAt??t.lot.auctionStart,"dd.MM.yyyy HH:mm"))}}function Mt(e,a){if(e&1&&(i(0,"dt"),o(1,"\u041A\u043E\u043D\u0435\u0446"),n(),i(2,"dd"),o(3),b(4,"date"),n()),e&2){let t=r(3);l(3),_(w(4,1,t.lot.auctionEndAt??t.lot.auctionEnd,"dd.MM.yyyy HH:mm"))}}function yt(e,a){if(e&1&&(i(0,"dt"),o(1,"\u041F\u043E\u0431\u0435\u0434\u0438\u0442\u0435\u043B\u044C ID"),n(),i(2,"dd",24),o(3),n()),e&2){let t=r(3);l(3),g("",t.lot.winnerId.slice(0,8),"\u2026")}}function Pt(e,a){if(e&1&&(i(0,"option",27),o(1),n()),e&2){let t=a.$implicit,u=r(3);C("value",t),l(),_(u.statusLabels[t])}}function Ot(e,a){e&1&&(i(0,"span",10),o(1,"progress_activity"),n())}function wt(e,a){e&1&&(i(0,"span",29)(1,"span",4),o(2,"check_circle"),n(),o(3," \u0421\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043E "),n())}function Dt(e,a){e&1&&(i(0,"span",39),o(1,"\u041F\u0430\u0443\u0437\u0430"),n())}function Tt(e,a){if(e&1){let t=v();i(0,"button",28),f("click",function(){p(t);let d=r(4);return m(d.pauseAuction())}),i(1,"span",4),o(2,"pause"),n(),o(3," \u041F\u0430\u0443\u0437\u0430 "),n()}if(e&2){let t=r(4);C("disabled",t.controlSaving)}}function Lt(e,a){if(e&1){let t=v();i(0,"button",46),f("click",function(){p(t);let d=r(4);return m(d.resumeAuction())}),i(1,"span",4),o(2,"play_arrow"),n(),o(3," \u0412\u043E\u0437\u043E\u0431\u043D\u043E\u0432\u0438\u0442\u044C "),n()}if(e&2){let t=r(4);C("disabled",t.controlSaving)}}function kt(e,a){if(e&1&&(i(0,"span",29)(1,"span",4),o(2,"check_circle"),n(),o(3),n()),e&2){let t=r(4);l(3),g(" ",t.controlSuccess)}}function At(e,a){if(e&1&&(i(0,"span",35),o(1),n()),e&2){let t=r(4);l(),_(t.controlError)}}function Bt(e,a){if(e&1){let t=v();i(0,"div",14)(1,"div",21)(2,"span",4),o(3,"manage_accounts"),n(),o(4," \u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0430\u0443\u043A\u0446\u0438\u043E\u043D\u043E\u043C "),c(5,Dt,2,0,"span",39),n(),i(6,"div",40),c(7,Tt,4,1,"button",41)(8,Lt,4,1,"button",42),i(9,"div",43)(10,"input",44),M("ngModelChange",function(d){p(t);let x=r(3);return S(x.extendMinutes,d)||(x.extendMinutes=d),m(d)}),n(),i(11,"span",45),o(12,"\u043C\u0438\u043D"),n(),i(13,"button",28),f("click",function(){p(t);let d=r(3);return m(d.extendAuction())}),i(14,"span",4),o(15,"more_time"),n(),o(16," \u041F\u0440\u043E\u0434\u043B\u0438\u0442\u044C "),n()()(),c(17,kt,4,1,"span",29),c(18,At,2,1,"span",35),n()}if(e&2){let t=r(3);l(5),s(t.lot.isPaused?5:-1),l(2),s(t.lot.isPaused?8:7),l(3),E("ngModel",t.extendMinutes),l(3),C("disabled",t.controlSaving||!t.extendMinutes),l(4),s(t.controlSuccess?17:-1),l(),s(t.controlError?18:-1)}}function It(e,a){if(e&1&&(i(0,"option",27),o(1),n()),e&2){let t=a.$implicit,u=r(3);C("value",t),l(),_(u.auctionTypeLabels[t])}}function Vt(e,a){e&1&&(i(0,"span",10),o(1,"progress_activity"),n())}function Ft(e,a){e&1&&(i(0,"span",29)(1,"span",4),o(2,"check_circle"),n(),o(3," \u0421\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043E"),n())}function zt(e,a){if(e&1&&(i(0,"span",35),o(1),n()),e&2){let t=r(3);l(),_(t.scheduleError)}}function Wt(e,a){if(e&1){let t=v();c(0,ut,3,0,"div",15),i(1,"div",16)(2,"div",17)(3,"span",18),o(4,"\u0422\u0435\u043A\u0443\u0449\u0430\u044F \u0446\u0435\u043D\u0430"),n(),i(5,"span",19),o(6),b(7,"number"),n()(),c(8,mt,8,8,"div",17),c(9,xt,6,3,"div",17),c(10,Ct,6,3,"div",17),n(),i(11,"div",20)(12,"div",14)(13,"div",21)(14,"span",4),o(15,"directions_car"),n(),o(16," \u0410\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u044C "),n(),i(17,"dl",22)(18,"dt"),o(19,"\u041C\u0430\u0440\u043A\u0430 / \u041C\u043E\u0434\u0435\u043B\u044C"),n(),i(20,"dd"),o(21),n(),i(22,"dt"),o(23,"\u0413\u043E\u0434"),n(),i(24,"dd"),o(25),n(),i(26,"dt"),o(27,"\u041F\u0440\u043E\u0431\u0435\u0433"),n(),i(28,"dd"),o(29),b(30,"number"),n(),i(31,"dt"),o(32,"\u0422\u043E\u043F\u043B\u0438\u0432\u043E"),n(),i(33,"dd"),o(34),n(),c(35,gt,4,1),c(36,ft,4,1),c(37,bt,4,1),c(38,vt,4,2),c(39,ht,5,1),n(),c(40,Et,2,1,"p",23),n(),i(41,"div",14)(42,"div",21)(43,"span",4),o(44,"timer"),n(),o(45," \u0410\u0443\u043A\u0446\u0438\u043E\u043D "),n(),i(46,"dl",22)(47,"dt"),o(48,"\u0421\u0442\u0430\u0440\u0442\u043E\u0432\u0430\u044F \u0441\u0442\u0430\u0432\u043A\u0430"),n(),i(49,"dd"),o(50),b(51,"number"),n(),i(52,"dt"),o(53,"\u0422\u0438\u043F \u0430\u0443\u043A\u0446\u0438\u043E\u043D\u0430"),n(),i(54,"dd"),o(55),n(),c(56,St,5,4),c(57,Mt,5,4),c(58,yt,4,1),i(59,"dt"),o(60,"ID \u043B\u043E\u0442\u0430"),n(),i(61,"dd",24),o(62),n(),i(63,"dt"),o(64,"\u0421\u043E\u0437\u0434\u0430\u043D"),n(),i(65,"dd"),o(66),b(67,"date"),n()()()(),i(68,"div",14)(69,"div",21)(70,"span",4),o(71,"edit"),n(),o(72," \u0421\u0442\u0430\u0442\u0443\u0441 \u043B\u043E\u0442\u0430 "),n(),i(73,"div",25)(74,"select",26),M("ngModelChange",function(d){p(t);let x=r(2);return S(x.editStatus,d)||(x.editStatus=d),m(d)}),y(75,Pt,2,2,"option",27,k),n(),i(77,"button",28),f("click",function(){p(t);let d=r(2);return m(d.saveStatus())}),c(78,Ot,2,0,"span",10),o(79," \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C "),n(),c(80,wt,4,0,"span",29),n()(),c(81,Bt,19,6,"div",14),i(82,"div",14)(83,"div",21)(84,"span",4),o(85,"schedule"),n(),o(86," \u0420\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u0435 \u0430\u0443\u043A\u0446\u0438\u043E\u043D\u0430 "),n(),i(87,"div",30)(88,"div",31)(89,"label",32),o(90,"\u0422\u0438\u043F"),n(),i(91,"select",26),M("ngModelChange",function(d){p(t);let x=r(2);return S(x.editAuctionType,d)||(x.editAuctionType=d),m(d)}),y(92,It,2,2,"option",27,k),n()(),i(94,"div",31)(95,"label",32),o(96,"\u041D\u0430\u0447\u0430\u043B\u043E"),n(),i(97,"input",33),M("ngModelChange",function(d){p(t);let x=r(2);return S(x.editStartAt,d)||(x.editStartAt=d),m(d)}),n()(),i(98,"div",31)(99,"label",32),o(100,"\u041A\u043E\u043D\u0435\u0446"),n(),i(101,"input",33),M("ngModelChange",function(d){p(t);let x=r(2);return S(x.editEndAt,d)||(x.editEndAt=d),m(d)}),n()()(),i(102,"div",34)(103,"button",28),f("click",function(){p(t);let d=r(2);return m(d.saveSchedule())}),c(104,Vt,2,0,"span",10),i(105,"span",4),o(106,"save"),n(),o(107," \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0440\u0430\u0441\u043F\u0438\u0441\u0430\u043D\u0438\u0435 "),n(),c(108,Ft,4,0,"span",29),c(109,zt,2,1,"span",35),n()()}if(e&2){let t=r(2);s(t.lot.images&&t.lot.images.length>0?0:-1),l(6),g("",h(7,36,t.currentPriceDisplay)," EUR"),l(2),s(t.lot.reservePrice?8:-1),l(),s(t.lot.buyNowPrice?9:-1),l(),s(t.lot.bidStep?10:-1),l(11),B("",t.lot.brand," ",t.lot.model," ",t.lot.derivative),l(4),_(t.lot.year),l(4),g("",h(30,38,t.lot.mileage)," \u043A\u043C"),l(5),_(t.fuelLabels[t.lot.fuelType]??t.lot.fuelType),l(),s(t.lot.vin?35:-1),l(),s(t.lot.saleLocation?36:-1),l(),s(t.lot.vehicleLocation?37:-1),l(),s(t.lot.cosmeticGrade||t.lot.mechanicalGrade?38:-1),l(),s(t.lot.conditionReportUrl?39:-1),l(),s(t.lot.description?40:-1),l(10),g("",h(51,40,t.lot.startingBid)," EUR"),l(5),_(t.auctionTypeLabels[t.lot.auctionType??""]??t.lot.auctionType??"\u2014"),l(),s(t.lot.auctionStartAt??t.lot.auctionStart?56:-1),l(),s(t.lot.auctionEndAt??t.lot.auctionEnd?57:-1),l(),s(t.lot.winnerId?58:-1),l(4),_(t.lot.id),l(4),_(w(67,42,t.lot.createdAt,"dd.MM.yyyy HH:mm")),l(8),E("ngModel",t.editStatus),l(),P(t.statuses),l(2),C("disabled",t.statusSaving||t.editStatus===t.lot.status),l(),s(t.statusSaving?78:-1),l(2),s(t.statusSaved?80:-1),l(),s(t.isTrading?81:-1),l(10),E("ngModel",t.editAuctionType),l(),P(t.auctionTypes),l(5),E("ngModel",t.editStartAt),l(4),E("ngModel",t.editEndAt),l(2),C("disabled",t.scheduleSaving||!t.editStartAt||!t.editEndAt),l(),s(t.scheduleSaving?104:-1),l(4),s(t.scheduleSaved?108:-1),l(),s(t.scheduleError?109:-1)}}function Rt(e,a){e&1&&(i(0,"div",7)(1,"span",10),o(2,"progress_activity"),n()())}function Ut(e,a){e&1&&(i(0,"div",47)(1,"span",4),o(2,"gavel"),n(),i(3,"p"),o(4,"\u0421\u0442\u0430\u0432\u043E\u043A \u0435\u0449\u0451 \u043D\u0435\u0442"),n()())}function Nt(e,a){e&1&&D(0,"th")}function Ht(e,a){e&1&&(i(0,"span",54),o(1,"\u0410\u0432\u0442\u043E"),n())}function jt(e,a){e&1&&(i(0,"span",55),o(1,"\u0420\u0443\u0447\u043D\u0430\u044F"),n())}function Gt(e,a){if(e&1){let t=v();i(0,"button",57),f("click",function(){p(t);let d=r(2).$implicit,x=r(5);return m(x.rollbackBid(d.id))}),i(1,"span",4),o(2,"undo"),n()()}}function Yt(e,a){if(e&1&&(i(0,"td"),c(1,Gt,3,0,"button",56),n()),e&2){let t=r().$index,u=r(5);l(),s(t===0&&u.bidsPage===1?1:-1)}}function $t(e,a){if(e&1&&(i(0,"tr")(1,"td",51),o(2),n(),i(3,"td",52),o(4),b(5,"number"),n(),i(6,"td",53),o(7),n(),i(8,"td"),c(9,Ht,2,0,"span",54)(10,jt,2,0,"span",55),n(),i(11,"td",51),o(12),b(13,"date"),n(),c(14,Yt,2,1,"td"),n()),e&2){let t=a.$implicit,u=a.$index,d=r(5);l(2),_((d.bidsPage-1)*d.bidsLimit+u+1),l(2),g("",h(5,6,t.amount)," EUR"),l(3),g("",t.userId.slice(0,8),"\u2026"),l(2),s(t.isPreBid?9:10),l(3),_(w(13,8,t.createdAt,"dd.MM.yy HH:mm:ss")),l(2),s(d.isTrading?14:-1)}}function qt(e,a){if(e&1){let t=v();i(0,"div",50)(1,"button",28),f("click",function(){p(t);let d=r(5);return m(d.prevBidsPage())}),i(2,"span",4),o(3,"chevron_left"),n()(),i(4,"span",58),o(5),n(),i(6,"button",28),f("click",function(){p(t);let d=r(5);return m(d.nextBidsPage())}),i(7,"span",4),o(8,"chevron_right"),n()()()}if(e&2){let t=r(5);l(),C("disabled",t.bidsPage===1),l(4),A("",t.bidsPage," / ",t.bidsPages),l(),C("disabled",t.bidsPage===t.bidsPages)}}function Jt(e,a){if(e&1&&(i(0,"div",48)(1,"table",49)(2,"thead")(3,"tr")(4,"th"),o(5,"#"),n(),i(6,"th"),o(7,"\u0421\u0443\u043C\u043C\u0430"),n(),i(8,"th"),o(9,"\u0423\u0447\u0430\u0441\u0442\u043D\u0438\u043A (ID)"),n(),i(10,"th"),o(11,"\u0422\u0438\u043F"),n(),i(12,"th"),o(13,"\u0412\u0440\u0435\u043C\u044F"),n(),c(14,Nt,1,0,"th"),n()(),i(15,"tbody"),y(16,$t,15,11,"tr",null,it),n()()(),c(18,qt,9,4,"div",50)),e&2){let t=r(4);l(14),s(t.isTrading?14:-1),l(2),P(t.bids),l(2),s(t.bidsPages>1?18:-1)}}function Kt(e,a){if(e&1&&c(0,Ut,5,0,"div",47)(1,Jt,19,2),e&2){let t=r(3);s(t.bids.length===0?0:1)}}function Qt(e,a){if(e&1&&(c(0,Rt,3,0,"div",7),c(1,Kt,2,1)),e&2){let t=r(2);s(t.bidsLoading?0:-1),l(),s(t.bidsLoading?-1:1)}}function Xt(e,a){if(e&1&&(i(0,"div",14)(1,"div",21)(2,"span",4),o(3,"smart_toy"),n(),o(4," \u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0431\u043E\u0442\u0430 \u0434\u043B\u044F \u044D\u0442\u043E\u0433\u043E \u043B\u043E\u0442\u0430 "),n(),D(5,"app-bot-settings",59),n()),e&2){let t=r(2);l(5),C("lotId",t.lotId)}}function Zt(e,a){if(e&1){let t=v();i(0,"div",11)(1,"button",12),f("click",function(){p(t);let d=r();return m(d.activeTab="info")}),i(2,"span",4),o(3,"info"),n(),o(4," \u0418\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F "),n(),i(5,"button",12),f("click",function(){p(t);let d=r();return m(d.openBidsTab())}),i(6,"span",4),o(7,"gavel"),n(),o(8," \u0421\u0442\u0430\u0432\u043A\u0438 "),c(9,ct,2,1,"span",13),n(),i(10,"button",12),f("click",function(){p(t);let d=r();return m(d.activeTab="bot")}),i(11,"span",4),o(12,"smart_toy"),n(),o(13," \u0411\u043E\u0442 "),n()(),c(14,Wt,110,45),c(15,Qt,2,2),c(16,Xt,6,1,"div",14)}if(e&2){let t=r();l(),O("tab-btn--active",t.activeTab==="info"),l(4),O("tab-btn--active",t.activeTab==="bids"),l(4),s(t.bidsTotal>0?9:-1),l(),O("tab-btn--active",t.activeTab==="bot"),l(4),s(t.activeTab==="info"?14:-1),l(),s(t.activeTab==="bids"?15:-1),l(),s(t.activeTab==="bot"?16:-1)}}var te={imported:"\u0418\u043C\u043F\u043E\u0440\u0442\u0438\u0440\u043E\u0432\u0430\u043D",active:"\u0410\u043A\u0442\u0438\u0432\u043D\u044B\u0439",trading:"\u0422\u043E\u0440\u0433\u0438",sold:"\u041F\u0440\u043E\u0434\u0430\u043D",cancelled:"\u041E\u0442\u043C\u0435\u043D\u0451\u043D"},ee={petrol:"\u0411\u0435\u043D\u0437\u0438\u043D",diesel:"\u0414\u0438\u0437\u0435\u043B\u044C",hybrid:"\u0413\u0438\u0431\u0440\u0438\u0434",electric:"\u042D\u043B\u0435\u043A\u0442\u0440\u043E",lpg:"\u0413\u0430\u0437",mild_hybrid:"\u041C\u044F\u0433\u043A\u0438\u0439 \u0433\u0438\u0431\u0440\u0438\u0434",plug_in_hybrid:"\u041F\u043B\u0430\u0433\u0438\u043D-\u0433\u0438\u0431\u0440\u0438\u0434"},ne={timed:"\u0422\u0430\u0439\u043C\u0435\u0440\u043D\u044B\u0439",buy_now:"\u041A\u0443\u043F\u0438\u0442\u044C \u0441\u0435\u0439\u0447\u0430\u0441",both:"\u0422\u0430\u0439\u043C\u0435\u0440\u043D\u044B\u0439 + \u041A\u0443\u043F\u0438\u0442\u044C \u0441\u0435\u0439\u0447\u0430\u0441"};function et(e){return e?new Date(e).toISOString().slice(0,16):""}var nt=class e{route=T(U);lotService=T(Z);lotId="";lot=null;loading=!0;error="";activeTab="info";editStatus="";statusSaving=!1;statusSaved=!1;editStartAt="";editEndAt="";editAuctionType="timed";scheduleSaving=!1;scheduleSaved=!1;scheduleError="";bids=[];bidsTotal=0;bidsPage=1;bidsLimit=20;bidsLoading=!1;controlSaving=!1;controlError="";controlSuccess="";extendMinutes=5;rollbackBidId=null;statuses=["imported","active","trading","sold","cancelled"];statusLabels=te;fuelLabels=ee;auctionTypeLabels=ne;auctionTypes=["timed","buy_now","both"];ngOnInit(){this.lotId=this.route.snapshot.paramMap.get("id")??"",this.loadLot()}loadLot(){this.loading=!0,this.error="",this.lotService.getLot(this.lotId).subscribe({next:a=>{this.lot=a,this.editStatus=a.status,this.editStartAt=et(a.auctionStartAt??a.auctionStart),this.editEndAt=et(a.auctionEndAt??a.auctionEnd),this.editAuctionType=a.auctionType??"timed",this.loading=!1},error:()=>{this.error="\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u043B\u043E\u0442",this.loading=!1}})}openBidsTab(){this.activeTab="bids",this.bids.length===0&&this.loadBids()}loadBids(){this.bidsLoading=!0,this.lotService.getBids(this.lotId,this.bidsPage,this.bidsLimit).subscribe({next:a=>{this.bids=a.data,this.bidsTotal=a.total,this.bidsLoading=!1},error:()=>this.bidsLoading=!1})}get bidsPages(){return Math.ceil(this.bidsTotal/this.bidsLimit)}prevBidsPage(){this.bidsPage>1&&(this.bidsPage--,this.loadBids())}nextBidsPage(){this.bidsPage<this.bidsPages&&(this.bidsPage++,this.loadBids())}saveStatus(){!this.lot||this.editStatus===this.lot.status||(this.statusSaving=!0,this.lotService.updateStatus(this.lotId,this.editStatus).subscribe({next:a=>{this.lot=a,this.statusSaving=!1,this.statusSaved=!0,setTimeout(()=>this.statusSaved=!1,3e3)},error:()=>this.statusSaving=!1}))}saveSchedule(){!this.editStartAt||!this.editEndAt||(this.scheduleSaving=!0,this.scheduleSaved=!1,this.scheduleError="",this.lotService.scheduleLot(this.lotId,{auctionStartAt:new Date(this.editStartAt).toISOString(),auctionEndAt:new Date(this.editEndAt).toISOString(),auctionType:this.editAuctionType}).subscribe({next:a=>{this.lot=a,this.scheduleSaving=!1,this.scheduleSaved=!0,setTimeout(()=>this.scheduleSaved=!1,3e3)},error:a=>{this.scheduleError=a?.error?.message??"\u041E\u0448\u0438\u0431\u043A\u0430 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u0438\u044F",this.scheduleSaving=!1}}))}get currentPriceDisplay(){return this.lot?this.lot.currentPrice??this.lot.currentBid??this.lot.startingBid??0:0}get reserveMet(){return this.lot?.reservePrice?this.currentPriceDisplay>=this.lot.reservePrice:!0}get isTrading(){return this.lot?.status==="trading"}pauseAuction(){this.controlSaving=!0,this.controlError="",this.lotService.pauseAuction(this.lotId).subscribe({next:a=>{this.lot=a,this.controlSaving=!1,this.controlSuccess="\u0410\u0443\u043A\u0446\u0438\u043E\u043D \u043F\u0440\u0438\u043E\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D",setTimeout(()=>this.controlSuccess="",3e3)},error:a=>{this.controlError=a?.error?.message??"\u041E\u0448\u0438\u0431\u043A\u0430",this.controlSaving=!1}})}resumeAuction(){this.controlSaving=!0,this.controlError="",this.lotService.resumeAuction(this.lotId).subscribe({next:a=>{this.lot=a,this.editEndAt=a.auctionEndAt?new Date(a.auctionEndAt).toISOString().slice(0,16):"",this.controlSaving=!1,this.controlSuccess="\u0410\u0443\u043A\u0446\u0438\u043E\u043D \u0432\u043E\u0437\u043E\u0431\u043D\u043E\u0432\u043B\u0451\u043D",setTimeout(()=>this.controlSuccess="",3e3)},error:a=>{this.controlError=a?.error?.message??"\u041E\u0448\u0438\u0431\u043A\u0430",this.controlSaving=!1}})}extendAuction(){this.extendMinutes&&(this.controlSaving=!0,this.controlError="",this.lotService.extendAuction(this.lotId,this.extendMinutes).subscribe({next:a=>{this.lot=a,this.editEndAt=a.auctionEndAt?new Date(a.auctionEndAt).toISOString().slice(0,16):"",this.controlSaving=!1,this.controlSuccess=`\u0422\u0430\u0439\u043C\u0435\u0440 \u0438\u0437\u043C\u0435\u043D\u0451\u043D \u043D\u0430 ${this.extendMinutes} \u043C\u0438\u043D`,setTimeout(()=>this.controlSuccess="",3e3)},error:a=>{this.controlError=a?.error?.message??"\u041E\u0448\u0438\u0431\u043A\u0430",this.controlSaving=!1}}))}rollbackBid(a){confirm("\u041E\u0442\u043A\u0430\u0442\u0438\u0442\u044C \u044D\u0442\u0443 \u0441\u0442\u0430\u0432\u043A\u0443?")&&this.lotService.rollbackBid(a).subscribe({next:t=>{this.lot&&(this.lot=V(I({},this.lot),{currentPrice:t.newCurrentPrice})),this.loadBids(),this.controlSuccess="\u0421\u0442\u0430\u0432\u043A\u0430 \u043E\u0442\u043A\u0430\u0442\u0430\u043D\u0430",setTimeout(()=>this.controlSuccess="",3e3)},error:t=>{this.controlError=t?.error?.message??"\u041E\u0448\u0438\u0431\u043A\u0430 \u043E\u0442\u043A\u0430\u0442\u0430 \u0441\u0442\u0430\u0432\u043A\u0438"}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-lot-detail"]],decls:13,vars:5,consts:[[1,"page"],[1,"page-header"],[1,"page-header__left"],["routerLink","/lots",1,"back-link"],[1,"material-symbols-rounded"],[1,"page-title"],[1,"badge",3,"class"],[1,"state-loading"],[1,"state-error"],[1,"badge"],[1,"material-symbols-rounded","spin"],[1,"tabs"],[1,"tab-btn",3,"click"],[1,"tab-badge"],[1,"card"],[1,"images-strip"],[1,"price-banner"],[1,"price-banner__item"],[1,"price-banner__label"],[1,"price-banner__value"],[1,"detail-grid"],[1,"card-title"],[1,"info-list"],[1,"description-text"],[1,"mono"],[1,"form-inline"],[1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],[1,"btn","btn--secondary","btn--sm",3,"click","disabled"],[1,"save-success"],[1,"form-grid"],[1,"form-group"],[1,"form-label"],["type","datetime-local",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-actions"],[1,"save-error"],[1,"images-strip__img",3,"src","alt"],[1,"material-symbols-rounded",2,"font-size","14px"],["target","_blank",1,"link",3,"href"],[1,"badge","badge--amber",2,"margin-left","8px"],[1,"control-row"],[1,"btn","btn--secondary","btn--sm",3,"disabled"],[1,"btn","btn--primary","btn--sm",3,"disabled"],[1,"extend-row"],["type","number","min","1","max","120",1,"form-control","form-control--sm",2,"width","80px",3,"ngModelChange","ngModel"],[1,"text-muted",2,"font-size","12px"],[1,"btn","btn--primary","btn--sm",3,"click","disabled"],[1,"empty-state"],[1,"table-wrap"],[1,"data-table"],[1,"pagination"],[1,"text-muted"],[1,"mono","fw-semibold"],[1,"mono","text-muted"],[1,"badge","badge--blue"],[1,"badge","badge--gray"],["title","\u041E\u0442\u043A\u0430\u0442\u0438\u0442\u044C \u0441\u0442\u0430\u0432\u043A\u0443",1,"btn","btn--icon","btn--danger-ghost"],["title","\u041E\u0442\u043A\u0430\u0442\u0438\u0442\u044C \u0441\u0442\u0430\u0432\u043A\u0443",1,"btn","btn--icon","btn--danger-ghost",3,"click"],[1,"pagination__info"],[3,"lotId"]],template:function(t,u){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"span",4),o(5,"arrow_back"),n(),o(6," \u041B\u043E\u0442\u044B "),n(),c(7,ot,2,3,"h1",5)(8,at,2,0,"h1",5),n(),c(9,lt,2,3,"span",6),n(),c(10,rt,3,0,"div",7),c(11,dt,4,1,"div",8),c(12,Zt,17,10),n()),t&2&&(l(7),s(u.lot?7:8),l(2),s(u.lot?9:-1),l(),s(u.loading?10:-1),l(),s(u.error&&!u.loading?11:-1),l(),s(!u.loading&&u.lot?12:-1))},dependencies:[X,q,J,H,Y,$,j,Q,K,G,N,tt,R,W],styles:[".page[_ngcontent-%COMP%]{padding:32px;max-width:1200px;margin:0 auto}.page-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:32px}.page-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#111827}.page-count[_ngcontent-%COMP%]{font-size:.8125rem;color:#6b7280;background:#f3f4f6;padding:2px 10px;border-radius:20px}.filters[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:24px;flex-wrap:wrap}.filters__search[_ngcontent-%COMP%]{flex:1;min-width:200px}.filters__select[_ngcontent-%COMP%]{min-width:160px;width:auto}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;background:#f8f9fb;color:#111827;font-family:Manrope,-apple-system,BlinkMacSystemFont,sans-serif;font-size:.875rem;border:1px solid #E5E7EB;border-radius:8px;transition:border-color .15s ease,box-shadow .15s ease;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-control[_ngcontent-%COMP%]:focus{border-color:#4f46e5;box-shadow:0 0 0 3px #4f46e514}.btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:8px 12px;border:none;border-radius:8px;font-family:Manrope,-apple-system,BlinkMacSystemFont,sans-serif;font-size:.8125rem;font-weight:600;cursor:pointer;transition:all .15s ease}.btn--primary[_ngcontent-%COMP%]{background:#4f46e5;color:#fff}.btn--primary[_ngcontent-%COMP%]:hover{background:#4338ca;box-shadow:0 4px 14px #4f46e540}.btn--primary[_ngcontent-%COMP%]:active{background:#3730a3}.btn--secondary[_ngcontent-%COMP%]{background:transparent;color:#111827;border:1px solid #E5E7EB}.btn--secondary[_ngcontent-%COMP%]:hover{border-color:#d1d5db;background:#f3f4f6}.btn--danger[_ngcontent-%COMP%]{background:#ef444414;color:#ef4444;border:1px solid rgba(239,68,68,.2)}.btn--danger[_ngcontent-%COMP%]:hover{background:#ef444426}.btn--ghost[_ngcontent-%COMP%]{background:none;color:#6b7280}.btn--ghost[_ngcontent-%COMP%]:hover{color:#111827;background:#f3f4f6}.btn--sm[_ngcontent-%COMP%]{padding:4px 10px;font-size:.6875rem}.btn--icon[_ngcontent-%COMP%]{padding:4px;background:none;color:#6b7280;border:none;border-radius:4px;display:flex;align-items:center}.btn--icon[_ngcontent-%COMP%]:hover{color:#111827;background:#f3f4f6}.btn--icon[_ngcontent-%COMP%]   .material-symbols-rounded[_ngcontent-%COMP%]{font-size:18px}.btn[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}.btn[_ngcontent-%COMP%]   .material-symbols-rounded[_ngcontent-%COMP%]{font-size:16px;flex-shrink:0}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:2px 8px;border-radius:20px;font-size:.6875rem;font-weight:600}.badge--green[_ngcontent-%COMP%]{background:#22c55e1a;color:#1a9a49}.badge--red[_ngcontent-%COMP%]{background:#ef44441a;color:#ec1e1e}.badge--amber[_ngcontent-%COMP%]{background:#f59e0b1f;color:#c57f08}.badge--blue[_ngcontent-%COMP%]{background:#3b82f61a;color:#1469f4}.badge--gray[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.table-wrap[_ngcontent-%COMP%]{background:#fff;border:1px solid #E5E7EB;border-radius:16px;overflow:hidden;box-shadow:0 1px 2px #0000000d}.data-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.data-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px 16px;text-align:left;font-size:.6875rem;font-weight:600;color:#9ca3af;text-transform:uppercase;letter-spacing:.5px;background:#f8f9fb;border-bottom:1px solid #E5E7EB;white-space:nowrap}.data-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;font-size:.8125rem;color:#111827;border-bottom:1px solid #F3F4F6;vertical-align:middle}.data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.data-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background:#4f46e50a}.text-muted[_ngcontent-%COMP%]{color:#6b7280}.state-loading[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:48px;color:#9ca3af}.state-loading[_ngcontent-%COMP%]   .material-symbols-rounded[_ngcontent-%COMP%]{font-size:28px}.state-error[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 16px;background:#ef44440f;border:1px solid rgba(239,68,68,.2);border-radius:8px;color:#ef4444;margin-bottom:24px;font-size:.8125rem}.state-error[_ngcontent-%COMP%]   .material-symbols-rounded[_ngcontent-%COMP%]{font-size:18px;flex-shrink:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px;color:#9ca3af}.empty-state[_ngcontent-%COMP%]   .material-symbols-rounded[_ngcontent-%COMP%]{font-size:40px;display:block;margin-bottom:12px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.875rem}.pagination[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;margin-top:24px}.pagination__info[_ngcontent-%COMP%]{font-size:.8125rem;color:#6b7280;min-width:60px;text-align:center}.tabs[_ngcontent-%COMP%]{display:flex;gap:2px;margin-bottom:24px;background:#f3f4f6;padding:3px;border-radius:8px;width:fit-content}.tab-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:6px 12px;border:none;border-radius:6px;background:transparent;color:#6b7280;font-family:Manrope,-apple-system,BlinkMacSystemFont,sans-serif;font-size:.8125rem;font-weight:500;cursor:pointer;transition:all .15s ease}.tab-btn[_ngcontent-%COMP%]   .material-symbols-rounded[_ngcontent-%COMP%]{font-size:16px}.tab-btn[_ngcontent-%COMP%]:hover{background:#fff;color:#111827}.tab-btn--active[_ngcontent-%COMP%]{background:#fff;color:#4f46e5;font-weight:600;box-shadow:0 1px 2px #0000000d}.card[_ngcontent-%COMP%]{background:#fff;border:1px solid #E5E7EB;border-radius:12px;padding:24px;display:flex;flex-direction:column;gap:12px;margin-bottom:24px}.card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.875rem;font-weight:600;color:#111827;margin:0}.card-title[_ngcontent-%COMP%]   .material-symbols-rounded[_ngcontent-%COMP%]{font-size:18px;color:#6b7280}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.form-label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:500;color:#6b7280}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.form-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding-top:4px}.save-success[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;color:#22c55e;font-size:.8125rem;font-weight:500}.save-success[_ngcontent-%COMP%]   .material-symbols-rounded[_ngcontent-%COMP%]{font-size:16px}.save-error[_ngcontent-%COMP%]{color:#ef4444;font-size:.8125rem}.icon-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:30px;height:30px;border:none;background:none;cursor:pointer;border-radius:4px;color:#6b7280;transition:background .15s ease,color .15s ease;flex-shrink:0}.icon-btn[_ngcontent-%COMP%]   .material-symbols-rounded[_ngcontent-%COMP%]{font-size:18px}.icon-btn[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#111827}.icon-btn--danger[_ngcontent-%COMP%]:hover{background:#ef444414;color:#ef4444}.actions-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;white-space:nowrap}.link[_ngcontent-%COMP%]{color:#4f46e5;text-decoration:none;font-weight:500}.link[_ngcontent-%COMP%]:hover{color:#4338ca;text-decoration:underline}.section[_ngcontent-%COMP%]{margin-bottom:32px}.section-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#111827;margin:0 0 12px}.fw-semibold[_ngcontent-%COMP%]{font-weight:600}.status-select[_ngcontent-%COMP%]{background:#f8f9fb;border:1px solid #E5E7EB;border-radius:4px;color:#111827;font-size:.6875rem;font-family:Manrope,-apple-system,BlinkMacSystemFont,sans-serif;padding:3px 8px;cursor:pointer;outline:none;transition:border-color .15s ease}.status-select[_ngcontent-%COMP%]:hover{border-color:#d1d5db}.status-select[_ngcontent-%COMP%]:focus{border-color:#4f46e5;box-shadow:0 0 0 2px #4f46e514}.page-header__left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.back-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;color:#6b7280;text-decoration:none;font-size:.8125rem;transition:color .15s}.back-link[_ngcontent-%COMP%]:hover{color:#111827}.back-link[_ngcontent-%COMP%]   .material-symbols-rounded[_ngcontent-%COMP%]{font-size:18px}.images-strip[_ngcontent-%COMP%]{display:flex;gap:8px;overflow-x:auto;padding-bottom:4px;margin-bottom:24px}.images-strip__img[_ngcontent-%COMP%]{width:140px;height:96px;object-fit:cover;border-radius:4px;flex-shrink:0}.price-banner[_ngcontent-%COMP%]{display:flex;gap:24px;flex-wrap:wrap;background:#f3f4f6;border-radius:12px;padding:12px 24px;margin-bottom:24px}.price-banner__item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.price-banner__label[_ngcontent-%COMP%]{font-size:.6875rem;color:#9ca3af;text-transform:uppercase;letter-spacing:.04em}.price-banner__value[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#111827;display:flex;align-items:center;gap:4px}.price-banner__value--met[_ngcontent-%COMP%]{color:#22c55e}.price-banner__value--unmet[_ngcontent-%COMP%]{color:#ef4444}.detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(340px,1fr));gap:24px;margin-bottom:24px}.info-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;gap:6px 12px;margin:0}.info-list[_ngcontent-%COMP%]   dt[_ngcontent-%COMP%]{font-size:.8125rem;color:#9ca3af;white-space:nowrap;padding-top:1px}.info-list[_ngcontent-%COMP%]   dd[_ngcontent-%COMP%]{margin:0;font-size:.8125rem;color:#111827;word-break:break-word}.description-text[_ngcontent-%COMP%]{margin-top:12px;font-size:.8125rem;color:#6b7280;line-height:1.6;border-top:1px solid #E5E7EB;padding-top:8px}.form-inline[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex-wrap:wrap}.form-inline[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{max-width:220px}.control-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex-wrap:wrap;margin-bottom:8px}.extend-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.btn--danger-ghost[_ngcontent-%COMP%]{color:#ef4444;background:transparent;border:none}.btn--danger-ghost[_ngcontent-%COMP%]:hover{background:color-mix(in srgb,#EF4444 12%,transparent)}.form-control--sm[_ngcontent-%COMP%]{height:32px;padding:0 4px;font-size:.8125rem}.tab-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;min-width:18px;height:18px;padding:0 5px;border-radius:9px;background:#4f46e5;color:#fff;font-size:11px;font-weight:600;line-height:1}"]})};export{nt as LotDetailComponent};
