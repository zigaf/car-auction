import{a as M}from"./chunk-4245ZNOS.js";import{e as C}from"./chunk-RKYH57XR.js";import{b as w,c as P,d as v,e as S,f as E,g as O,n as k,p as B}from"./chunk-NMP7FLI7.js";import"./chunk-PQRFCLHD.js";import"./chunk-Q2EY3VGC.js";import{Ma as b,V as s,Ya as g,Za as m,bb as _,cb as e,db as n,ib as x,jb as h,qb as o,sb as y,wa as a,wb as p,xb as u,yb as c}from"./chunk-PMJPP6QG.js";function F(i,l){if(i&1&&(e(0,"div",7)(1,"span",15),o(2,"error"),n(),o(3),n()),i&2){let d=h();a(3),y(" ",d.error," ")}}function z(i,l){i&1&&(e(0,"span",14),o(1,"progress_activity"),n())}var L=class i{authService=s(M);router=s(C);email="";password="";loading=!1;error="";submit(){!this.email||!this.password||(this.loading=!0,this.error="",this.authService.login(this.email,this.password).subscribe({next:l=>{if(l.user.role!=="manager"&&l.user.role!=="admin"){this.authService.logout(),this.error="\u041D\u0435\u0434\u043E\u0441\u0442\u0430\u0442\u043E\u0447\u043D\u043E \u043F\u0440\u0430\u0432. \u0422\u043E\u043B\u044C\u043A\u043E \u043C\u0435\u043D\u0435\u0434\u0436\u0435\u0440\u044B \u0438 \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u043E\u0440\u044B.",this.loading=!1;return}this.router.navigate(["/lots"])},error:()=>{this.error="\u041D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 email \u0438\u043B\u0438 \u043F\u0430\u0440\u043E\u043B\u044C",this.loading=!1}}))}static \u0275fac=function(d){return new(d||i)};static \u0275cmp=b({type:i,selectors:[["app-login"]],decls:22,vars:5,consts:[[1,"login-page"],[1,"login-card"],[1,"login-card__header"],[1,"material-symbols-rounded","login-card__icon"],[1,"login-card__title"],[1,"login-card__subtitle"],[1,"login-form",3,"ngSubmit"],[1,"login-error"],[1,"form-field"],["for","email",1,"form-label"],["id","email","type","email","placeholder","admin@example.com","name","email","autocomplete","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["id","password","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","name","password","autocomplete","current-password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn--primary","login-submit",3,"disabled"],[1,"material-symbols-rounded","spin"],[1,"material-symbols-rounded"]],template:function(d,t){d&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),o(4,"admin_panel_settings"),n(),e(5,"h1",4),o(6,"AutoBid Admin"),n(),e(7,"p",5),o(8,"\u041F\u0430\u043D\u0435\u043B\u044C \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F"),n()(),e(9,"form",6),x("ngSubmit",function(){return t.submit()}),g(10,F,4,1,"div",7),e(11,"div",8)(12,"label",9),o(13,"Email"),n(),e(14,"input",10),c("ngModelChange",function(r){return u(t.email,r)||(t.email=r),r}),n()(),e(15,"div",8)(16,"label",11),o(17,"\u041F\u0430\u0440\u043E\u043B\u044C"),n(),e(18,"input",12),c("ngModelChange",function(r){return u(t.password,r)||(t.password=r),r}),n()(),e(19,"button",13),g(20,z,2,0,"span",14),o(21," \u0412\u043E\u0439\u0442\u0438 "),n()()()()),d&2&&(a(10),m(t.error?10:-1),a(4),p("ngModel",t.email),a(4),p("ngModel",t.password),a(),_("disabled",t.loading),a(),m(t.loading?20:-1))},dependencies:[B,O,w,P,v,k,E,S],styles:[".login-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:#f8f9fb;padding:16px}.login-card[_ngcontent-%COMP%]{width:100%;max-width:380px;background:#fff;border:1px solid #E5E7EB;border-radius:20px;padding:48px 32px;box-shadow:0 10px 25px #00000014,0 4px 10px #0000000a}.login-card__header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.login-card__icon[_ngcontent-%COMP%]{font-size:40px;color:#4f46e5;display:block;margin-bottom:8px}.login-card__title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#111827;margin-bottom:4px}.login-card__subtitle[_ngcontent-%COMP%]{font-size:.8125rem;color:#6b7280}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.form-field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.form-label[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:500;color:#6b7280}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px 16px;background:#f8f9fb;color:#111827;font-family:Manrope,-apple-system,BlinkMacSystemFont,sans-serif;font-size:.875rem;border:1px solid #E5E7EB;border-radius:8px;transition:border-color .15s ease,box-shadow .15s ease;outline:none}.form-control[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-control[_ngcontent-%COMP%]:focus{border-color:#4f46e5;box-shadow:0 0 0 3px #4f46e514}.login-error[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;padding:8px 12px;background:#ef444414;border:1px solid rgba(239,68,68,.25);border-radius:8px;color:#ef4444;font-size:.8125rem}.login-error[_ngcontent-%COMP%]   .material-symbols-rounded[_ngcontent-%COMP%]{font-size:16px;flex-shrink:0}.login-submit[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:8px;width:100%;padding:12px;background:#4f46e5;color:#fff;font-family:Manrope,-apple-system,BlinkMacSystemFont,sans-serif;font-size:.875rem;font-weight:600;border:none;border-radius:8px;cursor:pointer;margin-top:8px;transition:background .15s ease,box-shadow .15s ease}.login-submit[_ngcontent-%COMP%]:hover{background:#4338ca;box-shadow:0 4px 14px #4f46e540}.login-submit[_ngcontent-%COMP%]:active{background:#3730a3}.login-submit[_ngcontent-%COMP%]:disabled{opacity:.4;cursor:not-allowed}"]})};export{L as LoginPage};
